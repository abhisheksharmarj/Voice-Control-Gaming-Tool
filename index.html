<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceLearn - Hands-Free Education</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- आपके CSS जैसा ही रखा गया है --- */
        * {margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
        body {background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; color: #333;}
        .container {width: 100%; max-width: 900px; background: rgba(255, 255, 255, 0.95); border-radius: 20px; box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2); overflow: hidden;}
        header {background: #4e54c8; color: white; padding: 20px; text-align: center;}
        h1 {font-size: 2.5rem; margin-bottom: 10px;}
        .subtitle {font-size: 1.2rem; opacity: 0.9;}
        .main-content {display: flex; min-height: 450px;}
        .left-panel {flex: 1; background: #f8f9fa; padding: 25px; display: flex; flex-direction: column; justify-content: space-between;}
        .game-area {flex: 2; padding: 25px; display: flex; flex-direction: column; align-items: center; justify-content: center; background: white;}
        .voice-indicator {background: #4e54c8; color: white; border: none; border-radius: 50%; width: 80px; height: 80px; font-size: 1.8rem; display: flex; justify-content: center; align-items: center; margin: 0 auto; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); transition: all 0.3s;}
        .voice-indicator.listening {background: #ff4d4d; transform: scale(1.1); animation: pulse 1.5s infinite;}
        @keyframes pulse {0% {box-shadow: 0 0 0 0 rgba(255, 77, 77, 0.7);} 70% {box-shadow: 0 0 0 15px rgba(255, 77, 77, 0);} 100% {box-shadow: 0 0 0 0 rgba(255, 77, 77, 0);}}
        .voice-status {text-align: center; margin: 20px 0; font-size: 1.1rem; min-height: 30px;}
        .command-list {background: white; border-radius: 10px; padding: 15px; margin-top: 20px; box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);}
        .command-list h3 {margin-bottom: 10px; color: #4e54c8;}
        .command-list ul {list-style: none; padding-left: 15px;}
        .command-list li {margin-bottom: 8px; display: flex; align-items: center;}
        .command-list i {color: #4e54c8; margin-right: 10px;}
        .question-display {background: #f8f9fa; padding: 20px; border-radius: 15px; margin-bottom: 20px; text-align: center; width: 100%; box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);}
        .question-text {font-size: 1.5rem; margin-bottom: 15px;}
        .options {display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%;}
        .option {background: #4e54c8; color: white; padding: 15px; border-radius: 10px; text-align: center; transition: all 0.3s;}
        .option.highlighted {background: #3a3eb3; transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);}
        .score-board {display: flex; justify-content: space-around; width: 100%; margin-top: 20px;}
        .score {background: #4e54c8; color: white; padding: 10px 20px; border-radius: 10px; font-weight: bold;}
        .progress-bar {width: 100%; background: #e0e0e0; height: 10px; border-radius: 5px; margin-top: 20px; overflow: hidden;}
        .progress {height: 100%; background: linear-gradient(90deg, #4e54c8 0%, #8f94fb 100%); width: 0%; transition: width 0.5s;}
        .game-feedback {margin-top: 20px; font-weight: bold; font-size: 1.2rem; min-height: 30px; text-align: center;}
        .correct {color: #28a745;} .incorrect {color: #dc3545;}
        .game-complete {text-align: center; padding: 20px;}
        .game-complete h2 {color: #4e54c8; margin-bottom: 15px;}
        .start-btn {background: #4e54c8; color: white; border: none; padding: 15px 30px; border-radius: 10px; font-size: 1.2rem; margin: 20px auto; cursor: pointer; display: block; transition: all 0.3s; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);}
        .start-btn:hover {background: #3a3eb3; transform: translateY(-3px);}
        footer {text-align: center; padding: 15px; background: #4e54c8; color: white;}
        @media (max-width: 768px) {.main-content {flex-direction: column;} .options {grid-template-columns: 1fr;}}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>VoiceLearn</h1>
            <p class="subtitle">Hands-Free Educational Game for Everyone</p>
        </header>
        
        <button class="start-btn" id="start-btn">
            <i class="fas fa-microphone"></i> Click to Start Voice Recognition
        </button>
        
        <div class="main-content">
            <div class="left-panel">
                <div>
                    <h2>Voice Control</h2>
                    <p>Speak your answer - no hands needed!</p>
                    <div class="voice-status" id="voice-status">Press the Start button to begin</div>
                    <div class="voice-indicator" id="voice-indicator"><i class="fas fa-microphone"></i></div>
                </div>
                <div class="command-list">
                    <h3>Voice Commands</h3>
                    <ul>
                        <li><i class="fas fa-check-circle"></i> Say "Option A" or "Option 1" to select</li>
                        <li><i class="fas fa-check-circle"></i> Say "Next" for next question</li>
                        <li><i class="fas fa-check-circle"></i> Say "Repeat" to hear question again</li>
                        <li><i class="fas fa-check-circle"></i> Say "Score" to hear current score</li>
                        <li><i class="fas fa-check-circle"></i> Say "Start" to begin the game</li>
                    </ul>
                </div>
            </div>
            
            <div class="game-area">
                <div id="game-screen">
                    <div class="question-display">
                        <div class="question-text" id="question">
                            Welcome to VoiceLearn! Press the Start button to begin.
                        </div>
                    </div>
                    
                    <div class="options">
                        <div class="option" data-value="A">A) </div>
                        <div class="option" data-value="B">B) </div>
                        <div class="option" data-value="C">C) </div>
                        <div class="option" data-value="D">D) </div>
                    </div>
                    
                    <div class="game-feedback" id="feedback"></div>
                    
                    <div class="score-board">
                        <div class="score">Score: <span id="score">0</span></div>
                        <div class="score">Question: <span id="question-number">0</span>/5</div>
                    </div>
                    
                    <div class="progress-bar">
                        <div class="progress" id="progress"></div>
                    </div>
                </div>
                
                <div id="completion-screen" style="display: none;">
                    <div class="game-complete">
                        <h2>Game Completed!</h2>
                        <p>Your final score is <span id="final-score">0</span> out of 5</p>
                        <p>Say "Restart" to play again</p>
                        <button class="start-btn" onclick="initGame()">
                            <i class="fas fa-redo"></i> Restart Game
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Created for Hackathon - Voice Controlled Education for All</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const startBtn = document.getElementById('start-btn');
            const voiceIndicator = document.getElementById('voice-indicator');
            const voiceStatus = document.getElementById('voice-status');
            const questionEl = document.getElementById('question');
            const scoreEl = document.getElementById('score');
            const questionNumberEl = document.getElementById('question-number');
            const feedbackEl = document.getElementById('feedback');
            const progressEl = document.getElementById('progress');
            const options = document.querySelectorAll('.option');
            const gameScreen = document.getElementById('game-screen');
            const completionScreen = document.getElementById('completion-screen');
            const finalScoreEl = document.getElementById('final-score');

            let score = 0, currentQuestion = 0, recognition, isListening = false;

            const questions = [
                {question: "What is the capital of France?", options: ["Paris", "London", "Berlin", "Madrid"], correctAnswer: "A"},
                {question: "Which planet is known as the Red Planet?", options: ["Venus", "Mars", "Jupiter", "Saturn"], correctAnswer: "B"},
                {question: "What is 8 x 7?", options: ["54", "56", "64", "72"], correctAnswer: "B"},
                {question: "Who painted the Mona Lisa?", options: ["Vincent van Gogh", "Pablo Picasso", "Leonardo da Vinci", "Michelangelo"], correctAnswer: "C"},
                {question: "What is the largest mammal?", options: ["African Elephant", "Blue Whale", "Giraffe", "Hippopotamus"], correctAnswer: "B"}
            ];

            function initSpeechRecognition() {
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                    recognition = new SpeechRecognition();
                    recognition.continuous = true;
                    recognition.interimResults = false;
                    recognition.lang = 'en-US';
                    
                    recognition.onstart = function() {
                        isListening = true;
                        voiceIndicator.classList.add('listening');
                        voiceStatus.textContent = "Listening... Speak now";
                        startBtn.textContent = "Voice Recognition Active";
                        startBtn.style.backgroundColor = "#28a745";
                    };
                    
                    recognition.onresult = function(event) {
                        const transcript = event.results[event.results.length - 1][0].transcript.trim().toLowerCase();
                        voiceStatus.textContent = `Heard: "${transcript}"`;
                        processVoiceCommand(transcript);
                    };
                    
                    recognition.onerror = function(event) {
                        voiceStatus.textContent = `Error: ${event.error}. Try speaking again.`;
                        restartListening();
                    };
                    
                    recognition.onend = function() {
                        isListening = false;
                        voiceIndicator.classList.remove('listening');
                        if (currentQuestion < questions.length) {
                            setTimeout(startListening, 1000);
                        }
                    };
                    startListening();
                } else {
                    voiceStatus.textContent = "Speech recognition not supported. Use Chrome or Edge.";
                }
            }

            function startListening() {
                if (recognition && !isListening) {
                    try { recognition.start(); } catch {}
                }
            }

            startBtn.addEventListener('click', function() {
                if (!recognition) {
                    initSpeechRecognition();
                    readText("Welcome to Voice Learn. Say start to begin the game.");
                }
            });

            function initGame() {
                score = 0; currentQuestion = 0;
                gameScreen.style.display = "block";
                completionScreen.style.display = "none";
                updateScore(); loadQuestion();
            }

            function restartListening() {
                if (recognition) {
                    try { recognition.stop(); } catch {}
                    setTimeout(startListening, 1000);
                }
            }

            function loadQuestion() {
                if (currentQuestion < questions.length) {
                    const q = questions[currentQuestion];
                    questionEl.textContent = q.question;
                    options.forEach((option, index) => {
                        option.textContent = `${String.fromCharCode(65 + index)}) ${q.options[index]}`;
                        option.classList.remove('highlighted');
                    });
                    questionNumberEl.textContent = currentQuestion + 1;
                    progressEl.style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
                    feedbackEl.textContent = "";
                    feedbackEl.className = "game-feedback";
                    readText(q.question + " Options: " + q.options.map((opt, i) => `${String.fromCharCode(65+i)}: ${opt}`).join(", "));
                } else {
                    gameScreen.style.display = "none";
                    completionScreen.style.display = "block";
                    finalScoreEl.textContent = score;
                    readText(`Game completed! Your final score is ${score} out of ${questions.length}. Say restart to play again.`);
                }
            }

            function updateScore() { scoreEl.textContent = score; }

            function checkAnswer(answer) {
                const q = questions[currentQuestion];
                if (answer.toUpperCase() === q.correctAnswer) {
                    score++; updateScore();
                    feedbackEl.textContent = "Correct! Well done!";
                    feedbackEl.className = "game-feedback correct";
                    readText("Correct! Well done!");
                } else {
                    feedbackEl.textContent = `Incorrect. Correct answer: ${q.correctAnswer}) ${q.options[q.correctAnswer.charCodeAt(0)-65]}`;
                    feedbackEl.className = "game-feedback incorrect";
                    readText(`Incorrect. The correct answer is ${q.correctAnswer} ${q.options[q.correctAnswer.charCodeAt(0)-65]}`);
                }
                options.forEach(option => {
                    if (option.dataset.value === q.correctAnswer) option.classList.add('highlighted');
                });
                setTimeout(() => { currentQuestion++; loadQuestion(); }, 4000);
            }

            function readText(text) {
                if ('speechSynthesis' in window) {
                    if (recognition && isListening) recognition.stop(); // pause listening
                    const speech = new SpeechSynthesisUtterance(text);
                    speech.rate = 0.9; speech.pitch = 1;
                    speech.onend = () => { setTimeout(startListening, 500); };
                    window.speechSynthesis.speak(speech);
                }
            }

            function processVoiceCommand(command) {
                command = command.toLowerCase().trim();
                if (command.includes("start") && currentQuestion === 0) { initGame(); return; }
                if (command.includes("restart")) { initGame(); return; }
                if (currentQuestion >= questions.length) return;

                if (/\b(option\s*a|answer\s*a|option\s*1|answer\s*1|one)\b/.test(command)) {
                    checkAnswer("A");
                } else if (/\b(option\s*b|answer\s*b|option\s*2|answer\s*2|two)\b/.test(command)) {
                    checkAnswer("B");
                } else if (/\b(option\s*c|answer\s*c|option\s*3|answer\s*3|three)\b/.test(command)) {
                    checkAnswer("C");
                } else if (/\b(option\s*d|answer\s*d|option\s*4|answer\s*4|four)\b/.test(command)) {
                    checkAnswer("D");
                } else if (command.includes("next")) {
                    currentQuestion++; loadQuestion();
                } else if (command.includes("repeat")) {
                    const q = questions[currentQuestion];
                    readText(q.question + " Options: " + q.options.map((opt, i)=>`${String.fromCharCode(65+i)}: ${opt}`).join(", "));
                } else if (command.includes("score")) {
                    readText(`Your current score is ${score} out of ${currentQuestion}`);
                } else {
                    voiceStatus.textContent = "Command not recognized.";
                    readText("Sorry, I didn't understand that. Please try again.");
                }
            }
        });
    </script>
</body>
</html
